!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e||self).ugl={})}(this,function(e){var t=function(){function e(){this.attributes={}}return e.prototype.addAttribute=function(e){this.attributes[e.name]=e},e}(),r=function(){function e(e,t,r){void 0===r&&(r=gl.TRIANGLES),this.geometry=e,this.program=t,this.type=r}return e.prototype.render=function(){},e}(),n=0;function i(e){return"__private_"+n+++"_"+e}function o(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var a=i("gl"),c=function(){function e(e){void 0===e&&(e={}),Object.defineProperty(this,a,{writable:!0,value:void 0});var t=u(gl,gl.VERTEX_SHADER,e.vertex),r=u(gl,gl.FRAGMENT_SHADER,e.fragment),n=initProgram(gl,t,r),i={};Object.keys(e).forEach(function(e){if("fragment"!=e&&"vertex"!=e){var t=uniforms[e],r=gl.getUniformLocation(n,e),o=function(e){switch(e){case"int":case"sampler2D":return"uniform1i";case"float":return"uniform1f";case"mat2":case"mat3":case"mat4":return"uniformMatrix"+e.charAt(3)+"fv";case"vec2":case"vec3":case"vec4":return"uniform"+e.charAt(3)+"fv";default:return void console.error("[µgl] Unknown uniform type: "+e)}}(t.type);i[e]={location:r,type:o}}}),o(this,a)[a]={vertexShader:t,fragmentShader:r,program:n,uniforms:i}}var t=e.prototype;return t.render=function(){},t.destroy=function(){},e}();function u(e,t,r){var n=e.createShader(t);if(e.shaderSource(n,r),e.compileShader(n),e.getShaderParameter(n,e.COMPILE_STATUS))return n;console.warn("[µgl] createShader error",e.getShaderInfoLog(n)),e.deleteShader(n)}var f=i("gl"),s=i("canvas"),l=i("pixelRatio"),h=function(){function e(e){Object.defineProperty(this,f,{writable:!0,value:void 0}),Object.defineProperty(this,s,{writable:!0,value:void 0}),Object.defineProperty(this,l,{writable:!0,value:void 0});var t=e.canvas||document.createElement("canvas"),r=t.getContext("webgl2",{premultipliedAlpha:!1,alpha:!1,preserveDrawingBuffer:!1,powerPreference:"high-performance"});if(!r)throw new Error("WebGL2 is not supported");o(this,f)[f]=r,o(this,s)[s]=t}var t,r=e.prototype;return r.setPixelRatio=function(e){o(this,l)[l]=e},r.setSize=function(e,t){var r=o(this,l)[l];canvas.style.width=e+"px",canvas.style.height=t+"px",canvas.width=e*r,canvas.height=t*r,o(this,f)[f].viewport(0,0,e*r,t*r)},r.renderObject=function(){},r.render=function(e,t){},r.destroy=function(){},(t=[{key:"pixelRatio",get:function(){return o(this,l)[l]}},{key:"gl",get:function(){return o(this,f)[f]}},{key:"canvas",get:function(){return o(this,s)[s]}}])&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(e.prototype,t),e}();e.Attribute=function(e,t,r){this.name=e,this.value=t,this.itemSize=r,this.isDynamic=!1},e.Geometry=t,e.Mesh=r,e.Program=c,e.Renderer=h,e.Transform=function(){}});
